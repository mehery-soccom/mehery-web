(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1246"],{"457f":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("page-title",{attrs:{heading:e.heading,subheading:e.subheading,icon:e.icon,daterange:e.input.daterange},on:{dateRangeOnUpdate:e.dateRangeOnUpdate}}),n("b-table",{attrs:{id:"agent-session-list",striped:!0,bordered:!0,outlined:!1,small:!0,hover:!0,dark:!1,fixed:!1,"foot-clone":!1,"per-page":e.sessions.perPage,"current-page":e.sessions.currentPage,items:e.sessions.items,fields:e.sessions.fields},scopedSlots:e._u([{key:"cell(assignedToAgent)",fn:function(t){return["BOT"==t.item.mode?n("font-awesome-icon",{style:{color:"grey"},attrs:{icon:"robot"}}):e._e(),"AGENT"==t.item.mode?n("font-awesome-icon",{style:{color:"grey"},attrs:{icon:"user"}}):e._e(),e._v("\n                Â "+e._s(t.item.assignedToAgent)+"\n            ")]}},{key:"cell(contactId)",fn:function(t){return[e._v("\n                "+e._s(t.item.contactName||t.item.contactId)+"\n            ")]}},{key:"cell(startSessionStamp)",fn:function(t){return[e._v("\n                "+e._s(e._f("formatDate")(t.item.startSessionStamp))+"\n            ")]}},{key:"cell(fistResponseStamp)",fn:function(t){return[e._v("\n                "+e._s(e._f("formatDate")(t.item.fistResponseStamp))+" \n            ")]}},{key:"cell(closeSessionStamp)",fn:function(t){return[e._v("\n                "+e._s(e._f("formatDate")(t.item.closeSessionStamp))+"\n                "),t.item.active?n("font-awesome-icon",{style:{color:"green"},attrs:{icon:"circle"}}):e._e()]}},{key:"cell(actions)",fn:function(t){return[n("b-button",{attrs:{size:"xs",variant:"outline-primary"},on:{click:function(n){return e.activateAgent(t.item,t.index,n.target)}}},[e._v("\n                "+e._s("Y"==t.item.isactive?"DeActivate":"Activate")+" Agent\n              ")])]}}])}),n("b-pagination",{attrs:{"total-rows":e.sessions.rows,"per-page":e.sessions.perPage,"aria-controls":"agent-session-list"},model:{value:e.sessions.currentPage,callback:function(t){e.$set(e.sessions,"currentPage",t)},expression:"sessions.currentPage"}})],1)},a=[],i=(n("96cf"),n("3b8d")),o=n("bd86"),r=n("a391"),c=n("9d63"),l=n.n(c),d=n("ecee"),u=n("c074"),g=n("ad3d"),p=n("536f");d["c"].add(u["N"],u["u"],u["a"],u["d"],u["M"],u["t"],u["w"],u["I"],u["O"]);var m={components:{PageTitle:r["a"],VuePerfectScrollbar:l.a,"font-awesome-icon":g["a"],lineeg:p["a"]},data:function(){return Object(o["a"])({heading:"Chat Sessions",subheading:"Select date range for report",icon:"pe-7s-chat icon-gradient bg-tempting-azure",input:{daterange:{startDate:null,endDate:null}},sessions:{fields:[{key:"assignedToAgent",label:"Assigned"},{key:"contactId",label:"Contact"},{key:"startSessionStamp",label:"Start@"},{key:"fistResponseStamp",label:"Agent@"},{key:"closeSessionStamp",label:"Closed@"}],items:[],perPage:25,currentPage:1,rows:0}},"input",{daterange:{startDate:null,endDate:null}})},mounted:function(e){this.dateRangeOnUpdate()},methods:{getSessions:function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$store.dispatch("GetSessions",{agent:"TEAM",contactType:"MESSAGE_TWITTER",startStamp:this.input.daterange.startDate,endStamp:this.input.daterange.endDate});case 2:t=e.sent,this.sessions.items=t.results,this.sessions.rows=this.sessions.items.length,console.log("sessions",t,this.sessions);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),dateRangeOnUpdate:function(e){console.log("dateRangeOnUpdate",e),this.input.daterange.startDate=this.input.daterange.startDate.getTime(),this.input.daterange.endDate=this.input.daterange.endDate.getTime(),this.getSessions()}}},f=m,h=n("2877"),S=Object(h["a"])(f,s,a,!1,null,null,null);t["default"]=S.exports}}]);