(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b01a2ac"],{"2bbb":function(t,e,s){},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},3287:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"main-content-wrapper"},[s("Sidebar"),s("div",{staticClass:"container-fluid h-100"},[s("div",{staticClass:"row h-100"},[s("div",{staticClass:"col-md-3 col-xl-3 chat"},[s("Contacts")],1),s("div",{staticClass:"col-xl-6 chat",class:{"col-md-6":t.MyFlags.showContactProfile,"col-md-9":!t.MyFlags.showContactProfile,"col-xl-6":t.MyFlags.showContactProfile,"col-xl-9":!t.MyFlags.showContactProfile}},[s("Chatbox")],1),t.MyFlags.showContactProfile?s("div",{staticClass:"col-md-4 col-xl-3 chat"},[s("ContactProfile")],1):t._e()])])],1)},i=[],n=(s("a481"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"show",rawName:"v-show",value:t.MyFlags.showSidebar,expression:"MyFlags.showSidebar"}],staticClass:"w3-sidebar w3-bar-block w3-white w3-card w3-animate-left",attrs:{id:"mySidebar"}},[s("div",{staticClass:"mySidebar-container"},[s("button",{staticClass:"w3-bar-item w3-large menu_btn_close fa fa-arrow-left",on:{click:function(e){t.MyFlags.showSidebar=!t.MyFlags.showSidebar}}},[t._v(" ")]),s("a",{staticClass:"w3-bar-item w3-button",attrs:{href:t.MyConst.appPrefix+"/auth/logout"}},[s("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")]),s("hr"),t._m(0),t._m(1),t._m(2),s("div",{staticClass:"sidebar-logo"})])])}),c=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.metalic",hidden:""}},[s("i",{staticClass:"fas fa-atom"}),t._v(" Metalic")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.indigo",hidden:""}},[s("i",{staticClass:"fas fa-atom"}),t._v(" Indigo")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.bubble",hidden:""}},[s("i",{staticClass:"fas fa-atom"}),t._v(" Bubble")])}],r=s("4776"),o=s("9d63"),l=s.n(o),d=s("2f45");var u={components:{SidebarMenu:r["SidebarMenu"],VuePerfectScrollbar:l.a},props:{sidebarbg:String},data:function(){return{MyFlags:d["c"],MyConst:d["a"]}},methods:{toggleBodyClass:function(t){var e=document.body;this.isOpen=!this.isOpen,this.isOpen?e.classList.add(t):e.classList.remove(t)},toggleSidebarHover:function(t,e){var s=document.body;this.sidebarActive=!this.sidebarActive,this.windowWidth=document.documentElement.clientWidth,this.windowWidth>"992"&&("add"===t?s.classList.add(e):s.classList.remove(e))},getWindowWidth:function(){var t=document.body;this.windowWidth=document.documentElement.clientWidth,this.windowWidth<"1350"?t.classList.add("closed-sidebar","closed-sidebar-md"):t.classList.remove("closed-sidebar","closed-sidebar-md")}},mounted:function(){this.$nextTick((function(){window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth()}))},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowWidth)}},h=u,m=(s("455e"),s("2877")),f=Object(m["a"])(h,n,c,!1,null,null,null),p=f.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mb-sm-3 mb-md-0 contacts_card card-shadow"},[s("div",{staticClass:"card-header"},[s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text menu_btn",on:{click:function(e){t.MyFlags.showSidebar=!t.MyFlags.showSidebar}}},[s("i",{staticClass:"fa fa-bars"})])]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search",attrs:{type:"text",placeholder:"Search...",name:""},domProps:{value:t.search},on:{keyup:t.inputSearch,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(0)])]),s("div",{staticClass:"card-body contacts_body"},[s("ul",{staticClass:"contacts contact-list"},t._l(t.activeChats,(function(e){return s("router-link",{class:{data_assigned:e.assigned,data_unassigned:!e.assigned},attrs:{tag:"li",id:e.contactId,to:"/app/chat/"+e.contactId}},[s("div",{staticClass:"d-flex bd-highlight contact-preview"},[s("div",{staticClass:"img_cont"},[s("img",{staticClass:"rounded-circle user_img",attrs:{src:e.profilePic||t.MyDict.profilePic,alt:"profilpicture"}}),s("span",{staticClass:"online_icon"}),s("span",{staticClass:"contact_type fa",class:t.MyDict.social[e.contactType]})]),s("div",{staticClass:"user_info contact-text"},[s("span",{staticClass:"font-name"},[t._v(t._s(e.name))]),s("p",{staticClass:"font-preview"},[t._v(t._s(e.lastmsg.text))])]),s("div",{staticClass:"contact-time",attrs:{title:e.lastmsg.timestamp}},[s("p",[t._v(t._s(t._f("formatDate")(e.lastmsg.timestamp))+" ")]),e.newmsg?s("div",{staticClass:"new-message",attrs:{id:"'nm' + c.contactId"}},[s("p",[t._v(" ")])]):t._e()])])])})),1),s("ul",{staticClass:"contacts contact-list-unassigned"})]),s("div",{staticClass:"card-footer"},[t._v("\n         "),s("span",{staticClass:"contact_type fa fa-facebook"}),s("span",{staticClass:"contact_type fa fa-whatsapp"}),s("span",{staticClass:"contact_type fa fa-twitter"}),s("span",{staticClass:"contact_type fa fa-telegram"}),s("span",{staticClass:"contact_type fa fa-chrome"}),s("span",{staticClass:"online-toggle fa fa-toggle-on",class:{"toggle-active":t.isOnline},on:{click:t.toggleOnline}})])])},g=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"input-group-prepend"},[s("span",{staticClass:"input-group-text search_btn"},[s("i",{staticClass:"fa fa-search"})])])}],_=(s("96cf"),s("3b8d")),C=(s("7f7f"),s("55dd"),s("386d"),s("ecee")),b=s("ad3d"),w={components:{"font-awesome-icon":b["a"]},computed:{activeChats:function(){console.log("store",this.$store.getters.StateChats);var t=this.search;return(this.$store.getters.StateChats||[]).filter((function(e){return(e.name||"").toLowerCase().indexOf(t.toLowerCase())>-1&&e.active})).sort((function(t,e){return t.assigned&&!e.assigned?-1:!t.assigned&&e.assigned?1:e.lastInComingStamp-t.lastInComingStamp}))},isOnline:function(){return!!this.$store.getters.StateMeta&&this.$store.getters.StateMeta.isOnline}},data:function(){return{MyFlags:d["c"],MyDict:d["b"],MyConst:d["a"],search:""}},created:function(){console.log("loading..."),this.loadChats()},methods:{loadChats:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("GetChats");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleOnline:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("OnlineStatus");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),inputSearch:function(){},loadQuickReply:function(){}}},y=w,x=Object(m["a"])(y,v,g,!1,null,null,null),M=x.exports,k=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card card-shadow"},[s("div",{staticClass:"card-header msg_head chat-head"},[s("div",{staticClass:"d-flex bd-highlight"},[t.activeChat?s("div",{staticClass:"img_cont",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("img",{staticClass:"rounded-circle user_img",attrs:{src:t.activeChat.profilePic||t.MyDict.profilePic}}),s("span",{staticClass:"online_icon",attrs:{hidden:""}})]):t._e(),t.activeChat?s("div",{staticClass:"user_info",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("span",{staticClass:"user_name"},[t._v(t._s(t.activeChat.name))]),s("p",{staticClass:"user_text"},[t._v(t._s(t._f("formatDate")(t.activeChat.ilastmsg.timestamp))+" ")])]):t._e(),t._m(0),s("div",{staticClass:"chat_actions",attrs:{hidden:""}},[s("button",{staticClass:"btn",attrs:{title:"Close Chat"},on:{click:t.closSession}},[s("i",{staticClass:"fa fa-check-circle"})])])]),s("div",{on:{mouseover:function(e){t.showChatOptions=!0},mouseleave:function(e){t.showChatOptions=!1}}},[t._m(1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showChatOptions,expression:"showChatOptions"}],staticClass:"action_menu"},[s("ul",{staticStyle:{"padding-top":"10px"}},[s("li",{on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[s("i",{staticClass:"fas fa-user-circle"}),t._v(" User Profile")]),t._m(2)])])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.showMediaOptions,expression:"!showMediaOptions"}],staticClass:"card-body msg_card_body"},[s("div",{staticClass:"msg_card_body-bubbles"},[t.activeChat?t.activeChat?t._l(t.activeChat.messages,(function(e){return s("div",[e.type?s("div",{staticClass:"d-flex justify-content-end mb-4 chat-bubble",attrs:{"data-local-id":"m.localId","data-message-id":e.messageId}},[e.messageId?t._e():s("i",{staticClass:"sending fa fa-spinner fa-spin"},[t._v(" ")]),s("div",{staticClass:"msg_cotainer_send"},[s("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))]),e.attachments?s("div",[s("span",{staticClass:"fa fa-paperclip"}),t._v(" "+t._s(e.template)+" \n                "),s("div",{staticClass:"input-group my-attachments"},t._l(e.attachments,(function(e){return s("img",{attrs:{src:t._f("thumburl")(e.mediaURL)}})})),0)]):e.template?s("div",[s("span",{staticClass:"fa fa-tag"}),t._v(" "+t._s(e.template)+"\n            ")]):t._e(),s("span",{staticClass:"msg_time_send"},[t._v(t._s(t._f("formatDate")(e.timestamp))+"  "),s("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))])])]),t._m(4,!0)]):s("div",{staticClass:"d-flex justify-content-start mb-4 chat-bubble"},[t._m(3,!0),s("div",{staticClass:"msg_cotainer"},[s("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))])]),s("span",{staticClass:"msg_time"},[s("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))]),t._v("  "+t._s(t._f("formatDate")(e.timestamp)))])])])})):t._e():s("div",{staticClass:"msg_card_body-logo"})],2),s("div",{staticClass:"msg_card_body-panel"},[s("hr"),s("div",{staticClass:"msg_card_body-panel-tags"},t._l(t.quickReplies,(function(e){return t.quickReplies?s("span",{staticClass:"msg_cotainer_smart",on:{click:t.sendQuickReply}},[t._v("  "+t._s(e.id.subject))]):t._e()})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMediaOptions,expression:"showMediaOptions"}],staticClass:"card-body media_card_body"},[s("div",{staticClass:"media_card_body-bubbles"},[s("div",{staticClass:"media_card_body-bubbles-wrapper"},t._l(t.mediaOptions,(function(e){return s("div",{staticClass:"media_thumb"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedMedia,expression:"selectedMedia"}],attrs:{id:"mdeia-"+e.name,type:"radio",name:"media"},domProps:{value:e.name,checked:t._q(t.selectedMedia,e.name)},on:{change:function(s){t.selectedMedia=e.name}}}),s("label",{staticClass:"media_thumb_label",attrs:{for:"mdeia-"+e.name}},[s("img",{attrs:{src:t._f("thumburl")(e.url)}})])])})),0)]),t._m(5)]),s("div",{staticClass:"card-footer"},[s("div",{staticClass:"input-group my-input-section",class:{fade:!t.sendEnabled}},[s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text attach_btn",on:{click:function(e){t.showMediaOptions=!t.showMediaOptions}}},[s("i",{staticClass:"fa fa-paperclip"})])]),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message_text,expression:"message_text"}],staticClass:"form-control type_msg input-message",attrs:{name:"",placeholder:"Type your message...",autocomplete:"off",disabled:!t.inputTextEnabled},domProps:{value:t.message_text},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void e.preventDefault()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.newline(e):null}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onSendMessage(e)},input:function(e){e.target.composing||(t.message_text=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("span",{staticClass:"input-group-text send_btn",on:{click:t.onSendMessage}},[s("i",{staticClass:"fa fa-location-arrow"})])])])])])},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"video_cam"},[s("span",[s("i",{staticClass:"fas fa-video",attrs:{hidden:""}})]),s("span",[s("i",{staticClass:"fas fa-phone",attrs:{hidden:""}})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{attrs:{id:"action_menu_btn"}},[s("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("i",{staticClass:"fa fa-check-circle"}),t._v(" Resolve Ticket")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img_cont_msg"},[s("img",{staticClass:"rounded-circle user_img_msg",attrs:{src:"assets/images/profile.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"img_cont_msg"},[s("img",{staticClass:"rounded-circle user_img_msg",attrs:{src:"assets/images/profile.png"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"media_card_body-panel hidden"},[s("hr"),s("div",{staticClass:"media_card_body-panel-actions"},[s("span",{staticClass:"media_cotainer_smart"},[t._v("Cancel")]),s("span",{staticClass:"media_cotainer_smart"},[t._v("Send")])])])}],O={components:{"font-awesome-icon":b["a"]},computed:{inputTextEnabled:function(t){return!!this.$route.params.id},sendEnabled:function(t){return!!this.$route.params.id},activeChat:function(){for(var t in console.log("id",this.$route.params.id),this.$store.getters.StateChats){var e=this.$store.getters.StateChats[t];if(this.$route.params.id==e.contactId)return e}return null},mediaOptions:function(){return console.log("mediaOptions=",this.$store.getters.StateMediaOptions),this.$store.getters.StateMediaOptions}},data:function(){return{message_text:"",quickReplies:null,selectedMedia:null,showMediaOptions:!1,showChatOptions:!1,lastMessageId:null,ilastMessageId:null,MyDict:d["b"],MyFlags:d["c"],MyConst:d["a"]}},created:function(){console.log("loading..."),this.loadMediaOptions(),this.scrollToBottom()},updated:function(){this.scrollToBottom(),this.loadQuickReplies()},mounted:function(){this.scrollToBottom(),this.loadQuickReplies()},watch:{"$route.params.id":function(t){this.scrollToBottom(),this.loadQuickReplies()}},methods:{sendText:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(e,s){var a,i,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.activeChat,a){t.next=3;break}return t.abrupt("return");case 3:if(e||s){t.next=5;break}return t.abrupt("return");case 5:return i=a.sessionId,n={text:e,type:!0,timestamp:(new Date).getTime(),sender:d["a"].agent,name:d["a"].agent,messageId:"",sessionId:i,template:s},this.scrollToBottom(),t.prev=8,console.log("beforeSendcta"),t.next=12,this.$store.dispatch("SendChat",n);case 12:c=t.sent,console.log("resp",c),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](8),console.error(t.t0),n.logs=["Error While Sending"];case 20:this.scrollToBottom();case 21:case"end":return t.stop()}}),t,this,[[8,16]])})));function e(e,s){return t.apply(this,arguments)}return e}(),onSendMessage:function(){this.sendText(this.message_text,this.showMediaOptions?this.selectedMedia:null),this.message_text="",this.showMediaOptions=!1},newline:function(t){this.value="".concat(this.message_text,"\n")},sendQuickReply:function(t){this.sendText(event.target.innerText,this.showMediaOptions?this.selectedMedia:null)},closSession:function(){this.sendText("/exit_chat")},scrollToBottom:function(t){var e=this.activeChat;if(e){var s=e.messages,a=s[s.length-1].messageId;if(this.lastMessageId!=a){this.lastMessageId=a;var i=document.querySelector(".msg_card_body");i&&(console.log("updating",i.scrollTop,i.scrollHeight),i.scrollTop=i.scrollHeight)}}},loadMediaOptions:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("LoadMediaOptions");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),loadQuickReplies:function(){var t=Object(_["a"])(regeneratorRuntime.mark((function t(){var e,s,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=this.activeChat,e){t.next=3;break}return t.abrupt("return");case 3:if(s=e.ilastmsg,this.ilastMessageId!=s.messageId){t.next=6;break}return t.abrupt("return");case 6:return this.ilastMessageId=s.messageId,t.next=9,this.$store.dispatch("LoadQuickReplies",s.tags);case 9:a=t.sent,this.quickReplies=a;case 11:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},$=O,E=Object(m["a"])($,k,S,!1,null,null,null),I=E.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"card mb-sm-3 mb-md-0 card_contact_profile"},[s("div",{staticClass:"card-header"}),s("div",{staticClass:"card-body"},[s("div",{staticClass:"information",staticStyle:{display:"flex"}},[s("img",{staticClass:"rounded-circle user_img",attrs:{src:t.activeChat.profilePic||t.MyDict.profilePic}})])]),s("div",{staticClass:"card-footer"},[s("div",[s("p",[t._v(t._s(t.activeChat.name))])]),s("div",[t.activeChat.email?s("p",[s("span",{staticClass:"fa fa-envelope"}),t._v(" "+t._s(t.activeChat.email))]):t._e()]),s("div",[t.activeChat.phone?s("p",[s("span",{staticClass:"fa fa-phone"}),t._v(" "+t._s(t.activeChat.phone))]):t._e()]),t._m(0)])])},R=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"listGroups"}},[s("h1")])}],F={components:{},computed:{activeChat:function(){for(var t in console.log("id",this.$route.params.id),this.$store.getters.StateChats){var e=this.$store.getters.StateChats[t];if(this.$route.params.id==e.contactId)return e}return null}},data:function(){return{MyDict:d["b"],MyFlags:d["c"],MyConst:d["a"]}},created:function(){console.log("loading...")},updated:function(){},mounted:function(){},watch:{},methods:{}},T=F,L=Object(m["a"])(T,P,R,!1,null,null,null),W=L.exports,j=s("c074");C["c"].add(j["y"]);var D={name:"app",components:{Contacts:M,Chatbox:I,ContactProfile:W,Sidebar:p,VuePerfectScrollbar:l.a,"font-awesome-icon":b["a"]},data:function(){return{MyFlags:d["c"]}},mounted:function(){this.closeLoading()},methods:{closeLoading:function(t){var e=document.getElementsByTagName("html")[0];e.className=e.className.replace(/\loading\b/g,"")}}},K=D,B=(s("701f"),Object(m["a"])(K,a,i,!1,null,null,null));e["default"]=B.exports},"386d":function(t,e,s){"use strict";var a=s("cb7c"),i=s("83a1"),n=s("5f1b");s("214f")("search",1,(function(t,e,s,c){return[function(s){var a=t(this),i=void 0==s?void 0:s[e];return void 0!==i?i.call(s,a):new RegExp(s)[e](String(a))},function(t){var e=c(s,t,this);if(e.done)return e.value;var r=a(t),o=String(this),l=r.lastIndex;i(l,0)||(r.lastIndex=0);var d=n(r,o);return i(r.lastIndex,l)||(r.lastIndex=l),null===d?-1:d.index}]}))},"455e":function(t,e,s){"use strict";s("2bbb")},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),i=s("d8e8"),n=s("4bf8"),c=s("79e5"),r=[].sort,o=[1,2,3];a(a.P+a.F*(c((function(){o.sort(void 0)}))||!c((function(){o.sort(null)}))||!s("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),i(t))}})},"701f":function(t,e,s){"use strict";s("8057")},8057:function(t,e,s){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a481:function(t,e,s){"use strict";var a=s("cb7c"),i=s("4bf8"),n=s("9def"),c=s("4588"),r=s("0390"),o=s("5f1b"),l=Math.max,d=Math.min,u=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,f=function(t){return void 0===t?t:String(t)};s("214f")("replace",2,(function(t,e,s,p){return[function(a,i){var n=t(this),c=void 0==a?void 0:a[e];return void 0!==c?c.call(a,n,i):s.call(String(n),a,i)},function(t,e){var i=p(s,t,this,e);if(i.done)return i.value;var u=a(t),h=String(this),m="function"===typeof e;m||(e=String(e));var g=u.global;if(g){var _=u.unicode;u.lastIndex=0}var C=[];while(1){var b=o(u,h);if(null===b)break;if(C.push(b),!g)break;var w=String(b[0]);""===w&&(u.lastIndex=r(h,n(u.lastIndex),_))}for(var y="",x=0,M=0;M<C.length;M++){b=C[M];for(var k=String(b[0]),S=l(d(c(b.index),h.length),0),O=[],$=1;$<b.length;$++)O.push(f(b[$]));var E=b.groups;if(m){var I=[k].concat(O,S,h);void 0!==E&&I.push(E);var P=String(e.apply(void 0,I))}else P=v(k,h,S,O,E,e);S>=x&&(y+=h.slice(x,S)+P,x=S+k.length)}return y+h.slice(x)}];function v(t,e,a,n,c,r){var o=a+t.length,l=n.length,d=m;return void 0!==c&&(c=i(c),d=h),s.call(r,d,(function(s,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,a);case"'":return e.slice(o);case"<":r=c[i.slice(1,-1)];break;default:var d=+i;if(0===d)return s;if(d>l){var h=u(d/10);return 0===h?s:h<=l?void 0===n[h-1]?i.charAt(1):n[h-1]+i.charAt(1):s}r=n[d-1]}return void 0===r?"":r}))}}))}}]);