(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b01a2ac"],{"2bbb":function(t,e,a){},"2f21":function(t,e,a){"use strict";var s=a("79e5");t.exports=function(t,e){return!!t&&s((function(){e?t.call(null,(function(){}),1):t.call(null)}))}},3287:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content-wrapper"},[a("Sidebar"),a("div",{staticClass:"container-fluid h-100"},[a("div",{staticClass:"row h-100"},[a("div",{staticClass:"col-md-3 col-xl-3 chat"},[a("Contacts")],1),a("div",{staticClass:"col-xl-6 chat",class:{"col-md-6":t.MyFlags.showContactProfile,"col-md-9":!t.MyFlags.showContactProfile,"col-xl-6":t.MyFlags.showContactProfile,"col-xl-9":!t.MyFlags.showContactProfile}},[a("Chatbox")],1),t.MyFlags.showContactProfile?a("div",{staticClass:"col-md-4 col-xl-3 chat"},[a("ContactProfile")],1):t._e()])])],1)},i=[],n=(a("a481"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{directives:[{name:"show",rawName:"v-show",value:t.MyFlags.showSidebar,expression:"MyFlags.showSidebar"}],staticClass:"w3-sidebar w3-bar-block w3-white w3-card w3-animate-left",attrs:{id:"mySidebar"}},[a("div",{staticClass:"mySidebar-container"},[a("button",{staticClass:"w3-bar-item w3-large menu_btn_close fa fa-arrow-left",on:{click:function(e){t.MyFlags.showSidebar=!t.MyFlags.showSidebar}}},[t._v(" ")]),a("a",{staticClass:"w3-bar-item w3-button",attrs:{href:t.MyConst.appPrefix+"/auth/logout"}},[a("i",{staticClass:"fas fa-sign-out-alt"}),t._v(" Logout")]),a("hr"),t._m(0),t._m(1),t._m(2),a("div",{staticClass:"sidebar-logo"})])])}),c=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.metalic",hidden:""}},[a("i",{staticClass:"fas fa-atom"}),t._v(" Metalic")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.indigo",hidden:""}},[a("i",{staticClass:"fas fa-atom"}),t._v(" Indigo")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"w3-bar-item w3-button",attrs:{theme:"dashboard.agent.bubble",hidden:""}},[a("i",{staticClass:"fas fa-atom"}),t._v(" Bubble")])}],r=a("4776"),o=a("9d63"),l=a.n(o),d=a("2f45");var u={components:{SidebarMenu:r["SidebarMenu"],VuePerfectScrollbar:l.a},props:{sidebarbg:String},data:function(){return{MyFlags:d["c"],MyConst:d["a"]}},methods:{toggleBodyClass:function(t){var e=document.body;this.isOpen=!this.isOpen,this.isOpen?e.classList.add(t):e.classList.remove(t)},toggleSidebarHover:function(t,e){var a=document.body;this.sidebarActive=!this.sidebarActive,this.windowWidth=document.documentElement.clientWidth,this.windowWidth>"992"&&("add"===t?a.classList.add(e):a.classList.remove(e))},getWindowWidth:function(){var t=document.body;this.windowWidth=document.documentElement.clientWidth,this.windowWidth<"1350"?t.classList.add("closed-sidebar","closed-sidebar-md"):t.classList.remove("closed-sidebar","closed-sidebar-md")}},mounted:function(){this.$nextTick((function(){window.addEventListener("resize",this.getWindowWidth),this.getWindowWidth()}))},beforeDestroy:function(){window.removeEventListener("resize",this.getWindowWidth)}},f=u,m=(a("455e"),a("2877")),h=Object(m["a"])(f,n,c,!1,null,null,null),p=h.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-sm-3 mb-md-0 contacts_card card-shadow"},[a("div",{staticClass:"card-header"},[a("div",{staticClass:"input-group"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text menu_btn",on:{click:function(e){t.MyFlags.showSidebar=!t.MyFlags.showSidebar}}},[a("i",{staticClass:"fa fa-bars"})]),t._m(0)]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control search",attrs:{type:"text",placeholder:"Search...",name:""},domProps:{value:t.search},on:{keyup:t.inputSearch,input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._m(1)])]),a("div",{staticClass:"card-body contacts_body"},[a("ul",{staticClass:"contacts contact-list"},t._l(t.activeChats,(function(e){return a("router-link",{class:{data_assigned:e.assigned,data_unassigned:!e.assigned},attrs:{tag:"li",id:e.contactId,to:"/app/chat/"+e.contactId}},[a("div",{staticClass:"d-flex bd-highlight contact-preview"},[a("div",{staticClass:"img_cont"},[a("img",{staticClass:"rounded-circle user_img",attrs:{src:e.profilePic||t.MyDict.profilePic,alt:"profilpicture"}}),a("span",{staticClass:"online_icon"}),a("span",{staticClass:"contact_type fa",class:t.MyDict.social[e.contactType]})]),a("div",{staticClass:"user_info contact-text"},[a("span",{staticClass:"font-name"},[t._v(t._s(e.name))]),a("p",{staticClass:"font-preview"},[t._v(t._s(e.lastmsg.text))])]),a("div",{staticClass:"contact-time",attrs:{title:e.lastmsg.timestamp}},[a("p",[t._v(t._s(t._f("formatDate")(e.lastmsg.timestamp))+" ")]),e.newmsg?a("div",{staticClass:"new-message",attrs:{id:"'nm' + c.contactId"}},[a("p",[t._v(" ")])]):t._e()])])])})),1),a("ul",{staticClass:"contacts contact-list-unassigned"})]),a("div",{staticClass:"card-footer"},[t._v("\n         "),a("span",{staticClass:"contact_type fa fa-facebook"}),a("span",{staticClass:"contact_type fa fa-whatsapp"}),a("span",{staticClass:"contact_type fa fa-twitter"}),a("span",{staticClass:"contact_type fa fa-telegram"}),a("span",{staticClass:"contact_type fa fa-chrome"}),a("span",{staticClass:"online-toggle fa fa-toggle-on",class:{"toggle-active":t.isOnline},on:{click:t.toggleOnline}})])])},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action_menu menu_btn_menu"},[a("ul",[a("li",[a("i",{staticClass:"fas fa-user-circle"}),t._v(" View profile")]),a("li",[a("i",{staticClass:"fas fa-users"}),t._v(" Add to close friends")]),a("li",[a("i",{staticClass:"fas fa-plus"}),t._v(" Add to group")]),a("li",[a("i",{staticClass:"fas fa-ban"}),t._v(" Block")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text search_btn"},[a("i",{staticClass:"fa fa-search"})])])}],g=(a("96cf"),a("3b8d")),C=(a("7f7f"),a("55dd"),a("386d"),a("ecee")),b=a("ad3d"),w={components:{"font-awesome-icon":b["a"]},computed:{activeChats:function(){console.log("store",this.$store.getters.StateChats);var t=this.search;return(this.$store.getters.StateChats||[]).filter((function(e){return(e.name||"").toLowerCase().indexOf(t.toLowerCase())>-1&&e.active})).sort((function(t,e){return t.assigned&&!e.assigned?-1:!t.assigned&&e.assigned?1:e.lastInComingStamp-t.lastInComingStamp}))},isOnline:function(){return!!this.$store.getters.StateMeta&&this.$store.getters.StateMeta.isOnline}},data:function(){return{MyFlags:d["c"],MyDict:d["b"],MyConst:d["a"],search:""}},created:function(){console.log("loading..."),this.loadChats()},methods:{loadChats:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("GetChats");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),toggleOnline:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("OnlineStatus");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),inputSearch:function(){}}},y=w,x=Object(m["a"])(y,v,_,!1,null,null,null),M=x.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card card-shadow"},[a("div",{staticClass:"card-header msg_head chat-head"},[a("div",{staticClass:"d-flex bd-highlight"},[t.activeChat?a("div",{staticClass:"img_cont",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[a("img",{staticClass:"rounded-circle user_img",attrs:{src:t.activeChat.profilePic||t.MyDict.profilePic}}),a("span",{staticClass:"online_icon",attrs:{hidden:""}})]):t._e(),t.activeChat?a("div",{staticClass:"user_info",on:{click:function(e){t.MyFlags.showContactProfile=!t.MyFlags.showContactProfile}}},[a("span",{staticClass:"user_name"},[t._v(t._s(t.activeChat.name))]),a("p",{staticClass:"user_text"},[t._v(t._s(t._f("formatDate")(1e3*t.activeChat.lastInComingStamp))+" ")])]):t._e(),t._m(0),a("div",{staticClass:"chat_actions"},[a("span",{attrs:{title:"Close Chat"},on:{click:t.closSession}},[a("i",{staticClass:"fa fa-check-circle"})])])]),t._m(1),t._m(2)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.showMediaOptions,expression:"!showMediaOptions"}],staticClass:"card-body msg_card_body"},[a("div",{staticClass:"msg_card_body-bubbles"},[t.activeChat?t.activeChat?t._l(t.activeChat.messages,(function(e){return a("div",[e.type?a("div",{staticClass:"d-flex justify-content-end mb-4 chat-bubble",attrs:{"data-local-id":"m.localId","data-message-id":e.messageId}},[e.messageId?t._e():a("i",{staticClass:"sending fa fa-spinner fa-spin"},[t._v(" ")]),a("div",{staticClass:"msg_cotainer_send"},[a("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))]),e.attachments?a("div",[a("span",{staticClass:"fa fa-paperclip"}),t._v(" "+t._s(e.template)+" \n                "),a("div",{staticClass:"input-group my-attachments"},t._l(e.attachments,(function(e){return a("img",{attrs:{src:t._f("thumburl")(e.mediaURL)}})})),0)]):e.template?a("div",[a("span",{staticClass:"fa fa-tag"}),t._v(" "+t._s(e.template)+"\n            ")]):t._e(),a("span",{staticClass:"msg_time_send"},[t._v(t._s(t._f("formatDate")(e.timestamp))+"  "),a("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))])])]),t._m(4,!0)]):a("div",{staticClass:"d-flex justify-content-start mb-4 chat-bubble"},[t._m(3,!0),a("div",{staticClass:"msg_cotainer"},[a("span",[t._v(t._s(t._f("newlines")(t._f("striphtml")(e.text))))])]),a("span",{staticClass:"msg_time"},[a("span",{staticClass:"msg_user"},[t._v(t._s(e.name||"---"))]),t._v("  "+t._s(t._f("formatDate")(e.timestamp)))])])])})):t._e():a("div",{staticClass:"msg_card_body-logo"})],2),t._m(5)]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showMediaOptions,expression:"showMediaOptions"}],staticClass:"card-body media_card_body"},[a("div",{staticClass:"media_card_body-bubbles"},[a("div",{staticClass:"media_card_body-bubbles-wrapper"},t._l(t.mediaOptions,(function(e){return a("div",{staticClass:"media_thumb"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedMedia,expression:"selectedMedia"}],attrs:{id:"mdeia-"+e.name,type:"radio",name:"media"},domProps:{value:e.name,checked:t._q(t.selectedMedia,e.name)},on:{change:function(a){t.selectedMedia=e.name}}}),a("label",{staticClass:"media_thumb_label",attrs:{for:"mdeia-"+e.name}},[a("img",{attrs:{src:t._f("thumburl")(e.url)}})])])})),0)]),t._m(6)]),a("div",{staticClass:"card-footer"},[a("div",{staticClass:"input-group my-input-section",class:{fade:!t.sendEnabled}},[a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text attach_btn",on:{click:function(e){t.showMediaOptions=!t.showMediaOptions}}},[a("i",{staticClass:"fa fa-paperclip"})])]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message_text,expression:"message_text"}],staticClass:"form-control type_msg input-message",attrs:{name:"",placeholder:"Type your message...",autocomplete:"off",disabled:!t.inputTextEnabled},domProps:{value:t.message_text},on:{keydown:[function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void e.preventDefault()},function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.shiftKey?e.ctrlKey||e.altKey||e.metaKey?null:t.newline(e):null}],keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")||e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.onSendMessage(e)},input:function(e){e.target.composing||(t.message_text=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("span",{staticClass:"input-group-text send_btn",on:{click:t.onSendMessage}},[a("i",{staticClass:"fa fa-location-arrow"})])])])])])},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"video_cam"},[a("span",[a("i",{staticClass:"fas fa-video",attrs:{hidden:""}})]),a("span",[a("i",{staticClass:"fas fa-phone",attrs:{hidden:""}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{attrs:{id:"action_menu_btn",hidden:""}},[a("i",{staticClass:"fas fa-ellipsis-v"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"action_menu"},[a("ul",[a("li",[a("i",{staticClass:"fas fa-user-circle"}),t._v(" View profile")]),a("li",[a("i",{staticClass:"fas fa-users"}),t._v(" Add to close friends")]),a("li",[a("i",{staticClass:"fas fa-plus"}),t._v(" Add to group")]),a("li",[a("i",{staticClass:"fas fa-ban"}),t._v(" Block")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img_cont_msg"},[a("img",{staticClass:"rounded-circle user_img_msg",attrs:{src:"assets/images/profile.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"img_cont_msg"},[a("img",{staticClass:"rounded-circle user_img_msg",attrs:{src:"assets/images/profile.png"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"msg_card_body-panel"},[a("hr"),a("div",{staticClass:"msg_card_body-panel-tags"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"media_card_body-panel hidden"},[a("hr"),a("div",{staticClass:"media_card_body-panel-actions"},[a("span",{staticClass:"media_cotainer_smart"},[t._v("Cancel")]),a("span",{staticClass:"media_cotainer_smart"},[t._v("Send")])])])}],k={components:{"font-awesome-icon":b["a"]},computed:{inputTextEnabled:function(t){return!!this.$route.params.id},sendEnabled:function(t){return!!this.$route.params.id},activeChat:function(){for(var t in console.log("id",this.$route.params.id),this.$store.getters.StateChats){var e=this.$store.getters.StateChats[t];if(this.$route.params.id==e.contactId)return e}return null},mediaOptions:function(){return console.log("mediaOptions=",this.$store.getters.StateMediaOptions),this.$store.getters.StateMediaOptions}},data:function(){return{message_text:"",selectedMedia:null,showMediaOptions:!1,MyDict:d["b"],MyFlags:d["c"],MyConst:d["a"]}},created:function(){console.log("loading..."),this.loadMediaOptions(),this.scrollToBottom()},updated:function(){this.scrollToBottom()},mounted:function(){this.scrollToBottom()},watch:{"$route.params.id":function(t){this.scrollToBottom()}},methods:{sendText:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(e,a){var s,i,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s=this.activeChat,s){t.next=3;break}return t.abrupt("return");case 3:if(e||a){t.next=5;break}return t.abrupt("return");case 5:return i=s.sessionId,n={text:e,type:!0,timestamp:(new Date).getTime(),sender:d["a"].agent,name:d["a"].agent,messageId:"",sessionId:i,template:a},this.scrollToBottom(),t.prev=8,console.log("beforeSendcta"),t.next=12,this.$store.dispatch("SendChat",n);case 12:c=t.sent,console.log("resp",c),t.next=20;break;case 16:t.prev=16,t.t0=t["catch"](8),console.error(t.t0),n.logs=["Error While Sending"];case 20:this.scrollToBottom();case 21:case"end":return t.stop()}}),t,this,[[8,16]])})));function e(e,a){return t.apply(this,arguments)}return e}(),onSendMessage:function(){this.sendText(this.message_text,this.showMediaOptions?this.selectedMedia:null),this.message_text="",this.showMediaOptions=!1},newline:function(t){this.value="".concat(this.message_text,"\n")},closSession:function(){this.sendText("/exit_chat")},scrollToBottom:function(t){var e=document.querySelector(".msg_card_body");e&&(console.log("updating",e.scrollTop,e.scrollHeight),e.scrollTop=e.scrollHeight)},loadMediaOptions:function(){var t=Object(g["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$store.dispatch("LoadMediaOptions");case 2:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()}},O=k,E=Object(m["a"])(O,S,$,!1,null,null,null),P=E.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card mb-sm-3 mb-md-0 card_contact_profile"},[a("div",{staticClass:"card-header"}),a("div",{staticClass:"card-body"},[a("div",{staticClass:"information",staticStyle:{display:"flex"}},[a("img",{staticClass:"rounded-circle user_img",attrs:{src:t.activeChat.profilePic||t.MyDict.profilePic}})])]),a("div",{staticClass:"card-footer"},[a("div",[a("p",[t._v(t._s(t.activeChat.name))])]),a("div",[t.activeChat.email?a("p",[a("span",{staticClass:"fa fa-envelope"}),t._v(" "+t._s(t.activeChat.email))]):t._e()]),a("div",[t.activeChat.phone?a("p",[a("span",{staticClass:"fa fa-phone"}),t._v(" "+t._s(t.activeChat.phone))]):t._e()]),t._m(0)])])},F=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"listGroups"}},[a("h1")])}],T={components:{},computed:{activeChat:function(){for(var t in console.log("id",this.$route.params.id),this.$store.getters.StateChats){var e=this.$store.getters.StateChats[t];if(this.$route.params.id==e.contactId)return e}return null}},data:function(){return{MyDict:d["b"],MyFlags:d["c"],MyConst:d["a"]}},created:function(){console.log("loading...")},updated:function(){},mounted:function(){},watch:{},methods:{}},L=T,W=Object(m["a"])(L,I,F,!1,null,null,null),D=W.exports,j=a("c074");C["c"].add(j["y"]);var B={name:"app",components:{Contacts:M,Chatbox:P,ContactProfile:D,Sidebar:p,VuePerfectScrollbar:l.a,"font-awesome-icon":b["a"]},data:function(){return{MyFlags:d["c"]}},mounted:function(){this.closeLoading()},methods:{closeLoading:function(t){var e=document.getElementsByTagName("html")[0];e.className=e.className.replace(/\loading\b/g,"")}}},K=B,A=(a("701f"),Object(m["a"])(K,s,i,!1,null,null,null));e["default"]=A.exports},"386d":function(t,e,a){"use strict";var s=a("cb7c"),i=a("83a1"),n=a("5f1b");a("214f")("search",1,(function(t,e,a,c){return[function(a){var s=t(this),i=void 0==a?void 0:a[e];return void 0!==i?i.call(a,s):new RegExp(a)[e](String(s))},function(t){var e=c(a,t,this);if(e.done)return e.value;var r=s(t),o=String(this),l=r.lastIndex;i(l,0)||(r.lastIndex=0);var d=n(r,o);return i(r.lastIndex,l)||(r.lastIndex=l),null===d?-1:d.index}]}))},"455e":function(t,e,a){"use strict";a("2bbb")},"55dd":function(t,e,a){"use strict";var s=a("5ca1"),i=a("d8e8"),n=a("4bf8"),c=a("79e5"),r=[].sort,o=[1,2,3];s(s.P+s.F*(c((function(){o.sort(void 0)}))||!c((function(){o.sort(null)}))||!a("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(n(this)):r.call(n(this),i(t))}})},"701f":function(t,e,a){"use strict";a("8057")},8057:function(t,e,a){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},a481:function(t,e,a){"use strict";var s=a("cb7c"),i=a("4bf8"),n=a("9def"),c=a("4588"),r=a("0390"),o=a("5f1b"),l=Math.max,d=Math.min,u=Math.floor,f=/\$([$&`']|\d\d?|<[^>]*>)/g,m=/\$([$&`']|\d\d?)/g,h=function(t){return void 0===t?t:String(t)};a("214f")("replace",2,(function(t,e,a,p){return[function(s,i){var n=t(this),c=void 0==s?void 0:s[e];return void 0!==c?c.call(s,n,i):a.call(String(n),s,i)},function(t,e){var i=p(a,t,this,e);if(i.done)return i.value;var u=s(t),f=String(this),m="function"===typeof e;m||(e=String(e));var _=u.global;if(_){var g=u.unicode;u.lastIndex=0}var C=[];while(1){var b=o(u,f);if(null===b)break;if(C.push(b),!_)break;var w=String(b[0]);""===w&&(u.lastIndex=r(f,n(u.lastIndex),g))}for(var y="",x=0,M=0;M<C.length;M++){b=C[M];for(var S=String(b[0]),$=l(d(c(b.index),f.length),0),k=[],O=1;O<b.length;O++)k.push(h(b[O]));var E=b.groups;if(m){var P=[S].concat(k,$,f);void 0!==E&&P.push(E);var I=String(e.apply(void 0,P))}else I=v(S,f,$,k,E,e);$>=x&&(y+=f.slice(x,$)+I,x=$+S.length)}return y+f.slice(x)}];function v(t,e,s,n,c,r){var o=s+t.length,l=n.length,d=m;return void 0!==c&&(c=i(c),d=f),a.call(r,d,(function(a,i){var r;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,s);case"'":return e.slice(o);case"<":r=c[i.slice(1,-1)];break;default:var d=+i;if(0===d)return a;if(d>l){var f=u(d/10);return 0===f?a:f<=l?void 0===n[f-1]?i.charAt(1):n[f-1]+i.charAt(1):a}r=n[d-1]}return void 0===r?"":r}))}}))}}]);